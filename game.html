<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Number Sums Game</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2196F3">
    <style>
        body { font-family: Arial, sans-serif; background: #f0f0f0; margin: 0; padding: 10px; touch-action: manipulation; }
        .game-container { display: flex; justify-content: center; }
        .game-area { text-align: center; max-width: 100vw; }
        table { border-collapse: collapse; margin: 20px auto; background: white; display: none; }
        td { width: 60px; height: 60px; border: 2px solid #333; text-align: center; font-weight: bold; cursor: pointer; box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }
        .size-10 td { width: 40px; height: 40px; font-size: 12px; }
        .size-4 td { width: 70px; height: 70px; font-size: 16px; }
        .selected { background: #ddd !important; }
        .red { background: #ff4444; color: white; }
        .green-circle { display: inline-block; width: 30px; height: 30px; border: 2px solid #44ff44; border-radius: 50%; line-height: 26px; text-align: center; }
        .red-circle { display: inline-block; width: 30px; height: 30px; border: 2px solid #ff4444; border-radius: 50%; line-height: 26px; text-align: center; color: #ff4444; }
        .sum-cell { background: #eee; font-weight: bold; }
        .controls { margin: 20px; }
        .game-controls { margin: 20px 0; }
        .game-controls button { padding: 12px 16px; margin: 5px; font-size: 14px; min-width: 100px; touch-action: manipulation; }
        .difficulty-easy { background: #4CAF50; color: white; }
        .difficulty-medium { background: #FF9800; color: white; }
        .difficulty-hard { background: #F44336; color: white; }
        .info-btn { width: 30px; height: 30px; border-radius: 50%; background: #2196F3; color: white; border: none; font-size: 20px; font-weight: bold; cursor: pointer; margin-left: 10px; display: inline-flex; align-items: center; justify-content: center; }
        .instructions-box { background: white; padding: 15px; margin: 20px auto; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); max-width: 90vw; width: 500px; box-sizing: border-box; }
        button { padding: 10px 20px; margin: 5px; font-size: 16px; }
        .status { margin: 20px; font-size: 18px; font-weight: bold; display: none; height: 2em; line-height: 2em; }
        @media (max-width: 768px) {
            body { padding: 5px; }
            .game-container { flex-direction: column; }
            .instructions { order: 2; }
            td { width: 45px; height: 45px; font-size: 14px; }
            .size-4 td { width: 55px; height: 55px; font-size: 14px; }
            .size-10 td { width: 35px; height: 35px; font-size: 10px; }
            .game-controls button { padding: 10px 12px; font-size: 12px; min-width: 80px; }
            .instructions-box { padding: 10px; margin: 10px auto; }
            h1 { font-size: 24px; margin: 10px 0; }
        }
        @media (max-width: 480px) {
            td { width: 40px; height: 40px; font-size: 12px; }
            .size-4 td { width: 50px; height: 50px; font-size: 12px; }
            .size-10 td { width: 30px; height: 30px; font-size: 9px; }
            .game-controls { display: flex; flex-wrap: wrap; justify-content: center; }
            .game-controls button { flex: 1; min-width: 70px; margin: 2px; }
        }
    </style>
</head>
<body>
<div class="game-container">
    <div class="game-area">
        <h1 style="color: blue;">Number Sums <button class="info-btn" onclick="showInfo()">i</button></h1>
        <div class="instructions-box" id="instructionsBox">
            <h3>Instructions</h3>
            <p><strong>Goal:</strong> Select cells that are part of the total on top or on left. Try to make smart choices -
                you only have 3 lives before game over!</p>
            <p><strong>Controls:</strong> Tap to select cell | Long press to delete cell</p>
        </div>
        <div class="game-controls">
            <button onclick="newGame(0)">New Game</button>
            <button onclick="newGame(4)" class="difficulty-easy">Easy (4x4)</button>
            <button onclick="newGame(6)" class="difficulty-medium">Medium (6x6)</button>
            <button onclick="newGame(7)" class="difficulty-hard">Hard<br>(7x7)</button>
        </div>
        <div id="gameButtons" style="margin: 10px 0; display: none;">
            <button onclick="toggleTempValues()" id="tempToggle">Hide Partial Selection</button>
            <button onclick="showHint()" id="hintButton">Show Hint (3)</button>
        </div>
        <div class="status" id="status"></div>
        <table id="gameTable"></table>
    </div>
</div>

<script type="text/javascript" src="src/renderer.js"></script>
<script type="text/javascript" src="src/game.js"></script>
<script type="text/javascript" src="src/actions.js"></script>
<script type="text/javascript" src="src/background.js"></script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js');
}
</script>
</body>
</html>